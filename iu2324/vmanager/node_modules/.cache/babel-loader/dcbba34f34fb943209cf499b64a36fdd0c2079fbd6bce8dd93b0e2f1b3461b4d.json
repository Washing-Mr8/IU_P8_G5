{"ast":null,"code":"import { resolve, VmState } from '../model.js';\nexport default {\n  __name: 'DetailsPane',\n  props: {\n    element: Object\n  },\n  emits: ['editVm', 'filterVm', 'rmVm', 'editGroup', 'filterGroup', 'rmGroup', 'setState'],\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    function list(state) {\n      return props.element.members.map(v => resolve(v)).filter(vm => state ? vm.state == state : true).map(o => o.name).join(' ');\n    }\n    const __returned__ = {\n      props,\n      list,\n      get resolve() {\n        return resolve;\n      },\n      get VmState() {\n        return VmState;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["resolve","VmState","props","__props","list","state","element","members","map","v","filter","vm","o","name","join"],"sources":["C:/hlocal/IU_P8_G5/IU_P8_G5/iu2324/vmanager/src/components/DetailsPane.vue"],"sourcesContent":["<script setup>\r\nimport { resolve, VmState } from '../model.js'\r\n\r\ndefineEmits(['editVm', 'filterVm', 'rmVm', 'editGroup', 'filterGroup', 'rmGroup', 'setState'])\r\n\r\nconst props = defineProps({\r\n  element: Object\r\n})\r\n\r\nfunction list(state) {\r\n  return props.element.members\r\n    .map(v=>resolve(v))\r\n    .filter(vm=>state ? vm.state == state : true)\r\n    .map(o=>o.name).join(' ');\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div v-if=\"element == null || element.id == -1\">\r\n    (selecciona una Vm o un grupo para ver sus detalles)\r\n  </div>\r\n  <div v-else-if=\"Array.isArray(element.groups)\">\r\n    <h4>m√°quina virtual <span class=\"name\">{{element.name}}</span></h4>\r\n\r\n    <table>\r\n      <tr>\r\n        <th>Estado</th>\r\n        <td>{{ element.state }} </td>\r\n      </tr>\r\n      <tr>\r\n        <th>Memoria</th>\r\n        <td>{{ element.ram }} Gb</td>\r\n      </tr>\r\n      <tr>\r\n        <th>Disco</th>\r\n        <td>{{ element.hd }} Gb</td>\r\n      </tr>\r\n      <tr>\r\n        <th>M√°ximo uso de CPU</th>\r\n        <td>{{ element.cpu }} %</td>\r\n      </tr>\r\n      <tr>\r\n        <th>N√∫cleos de CPU</th>\r\n        <td>{{ element.cores }}</td>\r\n      </tr>\r\n      <tr>\r\n        <th>Direcci√≥n IPv4</th>\r\n        <td>{{ element.ip }}</td>\r\n      </tr>\r\n      <tr>\r\n        <th>Ancho de banda m√°ximo</th>\r\n        <td>{{ element.up }} Kbps de subida<br>{{ element.down }} Kbps de bajada</td>\r\n      </tr>\r\n      <tr>\r\n        <th>Disco externo virtual</th>\r\n        <td v-if=\"element.iso != -1\">{{ resolve(element.iso).name }}</td>\r\n        <td v-else> (ninguno) </td>\r\n      </tr>\r\n      <tr>\r\n        <th>Grupos a los que pertenece</th>\r\n        <td v-if=\"element.groups.length\">\r\n          {{ element.groups.map(g => resolve(g).name).join(' ') }}\r\n        </td>\r\n        <td v-else> (ninguno) </td>\r\n      </tr>\r\n    </table>\r\n  \r\n    <h5>Acciones</h5>\r\n    <div class=\"btn-group\">\r\n  <button @click=\"$emit('editVm')\" class=\"btn btn-outline-success\" title=\"Editar M√°quina Virtual\">‚úèÔ∏è</button>\r\n  <button v-if=\"element.groups.length\" class=\"btn btn-outline-warning\" @click=\"$emit('filterVm')\" title=\"Filtrar M√°quina Virtual\">üî¨</button>\r\n  <button v-if=\"element.state != VmState.RUNNING\" class=\"btn btn-outline-secondary\" @click=\"$emit('setState', VmState.RUNNING)\" title=\"Iniciar M√°quina Virtual\">‚ñ∂</button>\r\n  <button v-if=\"element.state != VmState.SUSPENDED\" class=\"btn btn-outline-secondary\" @click=\"$emit('setState', VmState.SUSPENDED)\" title=\"Suspender M√°quina Virtual\">üí§</button>\r\n  <button v-if=\"element.state != VmState.STOPPED\" class=\"btn btn-outline-secondary\" @click=\"$emit('setState', VmState.STOPPED)\" title=\"Detener M√°quina Virtual\">üõë</button>\r\n  <button @click=\"$emit('rmVm')\" class=\"btn btn-outline-danger\" title=\"Eliminar M√°quina Virtual\">üóëÔ∏è</button>\r\n  </div>\r\n  <script>\r\nexport default {\r\n  methods: {\r\n    confirmDelete() {\r\n      const confirmed = window.confirm('¬øEst√°s seguro de que deseas eliminar esta M√°quina Virtual?');\r\n\r\n      if (confirmed) {\r\n        // Emitir el evento para eliminar la m√°quina virtual\r\n        this.$emit('rmVm');\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n    </div>\r\n\r\n  <div v-else>\r\n    <h4>grupo <span class=\"name\">{{element.name}}</span></h4>\r\n\r\n    <b>{{ element.members.length }} integrantes</b>\r\n    <table>\r\n      <tr>\r\n        <th>{{ element.members.length }} integrantes</th>\r\n        <td v-if=\"element.members.length\">{{ list(false) }}\r\n        </td>\r\n        <td v-else> (no hay) </td>\r\n      </tr>\r\n      <tr>\r\n        <th>Encendidas</th>\r\n        <td v-if=\"list(VmState.RUNNING).length\">{{ list(VmState.RUNNING) }}</td>\r\n        <td v-else> (no hay) </td>\r\n      </tr>\r\n      <tr>\r\n        <th>Suspendidas</th>\r\n        <td v-if=\"list(VmState.SUSPENDED).length\">{{ list(VmState.SUSPENDED) }}</td>\r\n        <td v-else> (no hay) </td>\r\n      </tr>\r\n      <tr>\r\n        <th>Apagadas</th>\r\n        <td v-if=\"list(VmState.STOPPED).length\">{{ list(VmState.STOPPED) }}</td>\r\n        <td v-else> (no hay) </td>\r\n      </tr>\r\n    </table>\r\n\r\n    <h5>Acciones</h5>\r\n    <div class=\"btn-group\">\r\n      <button @click=\"$emit('editGroup')\" class=\"btn btn-outline-success\" title=\"Editar Grupo\">‚úèÔ∏è</button>\r\n      <button @click=\"$emit('filterGroup')\" class=\"btn btn-outline-warning\" title=\"Filtrar Grupo\">üî¨</button>\r\n      <button @click=\"$emit('rmGroup')\" class=\"btn btn-outline-danger\" title=\"Eliminar Grupo\">üóëÔ∏è</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n  tr>th {\r\n    width: 10em;\r\n    text-align: right;\r\n  }\r\n  .name {\r\n    font-weight: 1000;\r\n  }\r\n  td, th {\r\n    padding: 4px;\r\n  }\r\n  h5 {\r\n    margin-top: 1em;\r\n  }\r\n\r\n</style>\r\n"],"mappings":"AACA,SAASA,OAAO,EAAEC,OAAO,QAAQ,aAAa;;;;;;;;;;;IAI9C,MAAMC,KAAK,GAAGC,OAEZ;IAEF,SAASC,IAAIA,CAACC,KAAK,EAAE;MACnB,OAAOH,KAAK,CAACI,OAAO,CAACC,OAAO,CACzBC,GAAG,CAACC,CAAC,IAAET,OAAO,CAACS,CAAC,CAAC,CAAC,CAClBC,MAAM,CAACC,EAAE,IAAEN,KAAK,GAAGM,EAAE,CAACN,KAAK,IAAIA,KAAK,GAAG,IAAI,CAAC,CAC5CG,GAAG,CAACI,CAAC,IAAEA,CAAC,CAACC,IAAI,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;IAC7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}